(this["webpackJsonpform-no-redux"]=this["webpackJsonpform-no-redux"]||[]).push([[0],{15:function(e,t,a){e.exports=a(32)},31:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(8),s=a.n(o),i=a(2),l=a(1),c=n.a.createContext({jobs:{},existingJob:null,editJob:function(){},deleteJob:function(){},createJob:function(){}}),u=function(e){var t=Object(r.useState)({test1:{priority:"Urgent"},test2:{priority:"Trivial"},test3:{priority:"Urgent"}}),a=Object(l.a)(t,2),o=a[0],s=a[1],u=Object(r.useState)(!1),b=Object(l.a)(u,2),m=b[0],d=b[1];return n.a.createElement(c.Provider,{value:{jobs:o,isJobExist:m,createJob:function(e){s((function(t){return t[e.job]?(d(!0),t):(d(!1),t[e.job]={priority:e.priority},Object(i.a)({},t))}))},editJob:function(e){console.log(e),s((function(t){return t[e.job]={priority:e.priority},Object(i.a)({},t)}))},deleteJob:function(e){s((function(t){return delete t[e],Object(i.a)({},t)}))}}},e.children)},b=a(3),m=a(4),d=a(5),p=a(6),E=["","Urgent","Regular","Trivial"],v=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(b.a)(this,a),(r=t.call(this,e)).state={select:r.props.value},r}return Object(m.a)(a,[{key:"componentDidUpdate",value:function(e,t){e.reset!==this.props.reset&&this.setState({select:""})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"priority-select",name:"slot",id:"slot"},n.a.createElement("select",{onChange:function(t){e.setState({select:t.target.value}),e.props.onSelectPriority(t)},value:this.state.select},E.map((function(e,t){return n.a.createElement("option",{value:e,key:t},e)}))))}}]),a}(r.Component),f=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(b.a)(this,a),(e=t.call(this)).state={formFields:{job:"",priority:""},errorMessage:"",resetSelect:!1},e}return Object(m.a)(a,[{key:"componentDidUpdate",value:function(e,t){console.log(e.jobExistErr),console.log(this.props.jobExistErr),this.props.jobExistErr&&e.jobExistErr!==this.props.jobExistErr&&this.setState({errorMessage:"Job already exist",resetSelect:!0})}},{key:"handleChange",value:function(e,t){var a=this.state.formFields;a[t]=e.target.value,"job"===t&&(this.validateInput(a[t]),a[t]=a[t].replace(/[^A-Za-z]/gi,"")),this.setState({fields:a})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.state.formFields.job.length>0&&this.state.formFields.priority.length>0?(this.props.onSubmitCreateJob(this.state.formFields),this.setState({formFields:{job:"",priority:""},errorMessage:"",resetSelect:!0})):this.setState({errorMessage:"All fields are required",resetSelect:!1})}},{key:"validateInput",value:function(e){var t;/[^A-Za-z]/gi.test(e)?this.setState({errorMessage:"Only English letters are allowed"}):this.setState({errorMessage:""}),this.state.formFields.job.length>(t||70)&&this.setState({errorMessage:"Job name length mus be less then 70 characters"})}},{key:"render",value:function(){var e=this;return n.a.createElement("form",{className:"AddJobForm",onSubmit:function(t){return e.handleSubmit(t)}},n.a.createElement("div",{className:"AddJobForm__row"},n.a.createElement("label",{className:"AddJobForm__label",htmlFor:"job"},"Job:"),n.a.createElement("input",{className:"app-standard-input",name:"job",type:"text",placeholder:"Job",onChange:function(t){return e.handleChange(t,"job")},value:this.state.formFields.job})),n.a.createElement("div",{className:"AddJobForm__row"},n.a.createElement("label",{className:"AddJobForm__label",htmlFor:"priority"},"Priority:"),n.a.createElement(v,{reset:this.state.resetSelect,value:this.state.formFields.priority,onSelectPriority:function(t){return e.handleChange(t,"priority")}})),this.state.errorMessage?n.a.createElement("div",{className:"AddJobForm__error-message"},this.state.errorMessage):n.a.createElement("div",{className:"AddJobForm__no-error-message"},"no errors"),n.a.createElement("button",{type:"submit"},"Create"))}}]),a}(r.Component),h=n.a.createContext({isOpen:null,propsModal:{},setStatus:function(){},setProps:function(){}}),j=function(e){var t=Object(r.useState)(!1),a=Object(l.a)(t,2),o=a[0],s=a[1],i=Object(r.useState)({job:"",priority:""}),c=Object(l.a)(i,2),u=c[0],b=c[1];return n.a.createElement(h.Provider,{value:{isOpen:o,propsModal:u,setStatus:function(e){console.log(e),s((function(){return e}))},setProps:function(e){b((function(){return e}))}}},e.children)},g=function(e){var t=Object(r.useContext)(h).setStatus,a=Object(r.useContext)(h).setProps,o=Object(r.useContext)(c).deleteJob;return n.a.createElement("li",{className:"JobsTableRow Row".concat(e.priority)},n.a.createElement("div",{className:"JobsTableRow__name"},e.job),n.a.createElement("div",{className:"JobsTableRow__priority"},e.priority),n.a.createElement("div",{className:"JobsTableRow__interactive"},n.a.createElement("button",{onClick:function(){return console.log(e),a(e),void t(!0)}},"Edit"),n.a.createElement("button",{onClick:function(){return t=e.job,void o(t);var t}},"Delete")))},y=function(){var e=Object(r.useContext)(c).jobs,t=Object(r.useState)(""),a=Object(l.a)(t,2),o=a[0],s=a[1],i=Object(r.useState)(e),u=Object(l.a)(i,2),b=u[0],m=u[1],d=o.length>0?b:e;return n.a.createElement("section",{className:"JobsTable"},n.a.createElement("div",{className:"JobsTable__header"},n.a.createElement("div",{className:"JobsTable__title"},"job list".toUpperCase()),n.a.createElement("div",{className:"JobsTable__search-field"},n.a.createElement("input",{className:"app-standard-input",type:"text",placeholder:"Search job",onChange:function(t){return function(t){var a={};for(var r in e)r.includes(t.target.value)&&(a[r]=e[r]);s(t.target.value),m(a)}(t)},value:o}))),n.a.createElement("ul",null,d&&Object.keys(d).map((function(e,t){return n.a.createElement(g,{key:t+e,job:e,priority:d[e].priority})}))))},O=a(9),J=a.n(O);J.a.setAppElement("#root");var S={overlay:{backgroundColor:"rgba(0, 0, 0, 0.70)"},content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",minWidth:"500px",minHeight:"200px",padding:"10px 20px"}},_=function(){var e=Object(r.useContext)(h).isOpen,t=Object(r.useContext)(h).propsModal,a=Object(r.useState)(null===t||void 0===t?void 0:t.priority),o=Object(l.a)(a,2),s=o[0],u=o[1],b=Object(r.useContext)(h).setStatus,m=Object(r.useContext)(c).editJob;return n.a.createElement(J.a,{style:S,isOpen:e,contentLabel:"Minimal Modal Example"},n.a.createElement("div",{className:"EditJobModal"},n.a.createElement("div",{className:"EditJobModal__close"},n.a.createElement("div",{className:"EditJobModal__close-icon",onClick:function(){b(!1)}},"+")),n.a.createElement("div",{className:"EditJobModal__header"},n.a.createElement("h4",null,t.job)),n.a.createElement("div",{className:"EditJobModal__body"},n.a.createElement(v,{value:t.priority,onSelectPriority:function(e){return function(e){u(e.target.value)}(e)}})),n.a.createElement("div",{className:"EditJobModal__buttons"},n.a.createElement("button",{onClick:function(){!function(){var e=Object(i.a)({},t,{priority:s});m(e),b(!1)}()}},"Update"))))},x=function(){var e=Object(r.useContext)(c).createJob,t=Object(r.useContext)(c).isJobExist;return n.a.createElement(n.a.Fragment,null,n.a.createElement(f,{onSubmitCreateJob:function(t){e(t)},jobExistErr:t}),n.a.createElement(y,null),n.a.createElement(_,null))},C=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(u,null,n.a.createElement(j,null,n.a.createElement(x,null))))};a(31);s.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(C,null)),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.0294db37.chunk.js.map