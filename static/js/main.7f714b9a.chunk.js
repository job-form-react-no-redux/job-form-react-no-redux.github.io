(this["webpackJsonpform-no-redux"]=this["webpackJsonpform-no-redux"]||[]).push([[0],{15:function(e,t,a){e.exports=a(32)},31:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(4),s=a.n(o),i=a(2),l=a(1),c=function(e){localStorage.setItem("JOBS_LIST",JSON.stringify(e))},u=["Urgent","Regular","Trivial"],b=n.a.createContext({jobs:{},existingJob:null,editJob:function(){},deleteJob:function(){},createJob:function(){}}),m=function(e){var t=Object(r.useState)((function(){var e=function(){var e=localStorage.getItem("JOBS_LIST");return JSON.parse(e)}(),t={};if(e)t=e;else for(var a in u)t[u[a]]=[];return t})),a=Object(l.a)(t,2),o=a[0],s=a[1],m=Object(r.useState)(!1),d=Object(l.a)(m,2),f=d[0],p=d[1],v=function(e){s((function(t){var a=t[e.priority].indexOf(e.job);a>=0&&t[e.priority].splice(a,1);var r=Object(i.a)({},t);return c(r),r}))};return n.a.createElement(b.Provider,{value:{jobs:o,isJobExist:f,createJob:function(e){s((function(t){for(var a in t)if(t[a].includes(e.job))return p(!0),t;p(!1),t[e.priority].unshift(e.job);var r=Object(i.a)({},t);return c(r),r}))},editJob:function(e){s((function(t){t[e.newPriority].unshift(e.job),v({job:e.job,priority:e.priority})}))},deleteJob:v}},e.children)},d=a(11),f=a(12),p=a(13),v=a(14),E=function(e){var t=Object(r.useState)(e.value),a=Object(l.a)(t,2),o=a[0],s=a[1];return Object(r.useEffect)((function(){e.reset&&s("")}),[e.reset]),n.a.createElement("div",{className:"priority-select",name:"slot",id:"slot"},n.a.createElement("select",{onChange:function(t){s(t.target.value),e.onSelectPriority(t)},value:o},n.a.createElement("option",{value:""}),u.map((function(e,t){return n.a.createElement("option",{value:e,key:t},e)}))))},h=function(e){Object(v.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).state={formFields:{job:"",priority:""},errorMessage:"",resetSelect:!1},e}return Object(f.a)(a,[{key:"componentDidUpdate",value:function(e,t){this.props.jobExistErr&&""===this.state.errorMessage&&this.setState({errorMessage:"Job already exist"})}},{key:"handleChange",value:function(e,t){var a=this.state.formFields;a[t]=e.target.value,"job"===t&&(this.validateInput(a[t]),a[t]=a[t].replace(/[^A-Za-z]/gi,"")),"Job already exist"===this.state.errorMessage&&this.setState({errorMessage:""}),this.setState({fields:a,resetSelect:!1})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.state.formFields.job.length>0&&this.state.formFields.priority.length>0?(this.props.onSubmitCreateJob(this.state.formFields),this.setState({formFields:{job:"",priority:""},errorMessage:"",resetSelect:!0})):this.setState({errorMessage:"All fields are required",resetSelect:!1})}},{key:"validateInput",value:function(e){var t;/[^A-Za-z]/gi.test(e)?this.setState({errorMessage:"Only English letters are allowed"}):this.state.formFields.job.length>(t||70)?this.setState({errorMessage:"Job name length mus be less then 70 characters"}):this.setState({errorMessage:""})}},{key:"render",value:function(){var e=this;return console.log(this.state.errorMessage),n.a.createElement("form",{className:"AddJobForm",onSubmit:function(t){return e.handleSubmit(t)}},n.a.createElement("div",{className:"AddJobForm__row"},n.a.createElement("label",{className:"AddJobForm__label",htmlFor:"job"},"Job:"),n.a.createElement("input",{className:"app-standard-input",name:"job",type:"text",placeholder:"Job",onChange:function(t){return e.handleChange(t,"job")},value:this.state.formFields.job})),n.a.createElement("div",{className:"AddJobForm__row"},n.a.createElement("label",{className:"AddJobForm__label",htmlFor:"priority"},"Priority:"),n.a.createElement(E,{reset:this.state.resetSelect,onSelectPriority:function(t){return e.handleChange(t,"priority")}})),this.state.errorMessage?n.a.createElement("div",{className:"AddJobForm__error-message"},this.state.errorMessage):n.a.createElement("div",{className:"AddJobForm__no-error-message"},"no errors"),n.a.createElement("button",{type:"submit"},"Create"))}}]),a}(r.Component),j=n.a.createContext({isOpen:null,propsModal:{},setStatus:function(){},setProps:function(){}}),g=function(e){var t=Object(r.useState)(!1),a=Object(l.a)(t,2),o=a[0],s=a[1],i=Object(r.useState)({job:"",priority:""}),c=Object(l.a)(i,2),u=c[0],b=c[1];return n.a.createElement(j.Provider,{value:{isOpen:o,propsModal:u,setStatus:function(e){s((function(){return e}))},setProps:function(e){b((function(){return e}))}}},e.children)},J=function(e){var t=Object(r.useContext)(j).setStatus,a=Object(r.useContext)(j).setProps,o=Object(r.useContext)(b).deleteJob;return n.a.createElement("li",{className:"JobsTableRow Row".concat(e.priority)},n.a.createElement("div",{className:"JobsTableRow__name"},e.job),n.a.createElement("div",{className:"JobsTableRow__priority"},e.priority),n.a.createElement("div",{className:"JobsTableRow__interactive"},n.a.createElement("button",{onClick:function(){return a(e),void t(!0)}},"Edit"),n.a.createElement("button",{onClick:function(){o(e)}},"Delete")))},O=function(){var e=Object(r.useContext)(b).jobs,t=Object(r.useState)(""),a=Object(l.a)(t,2),o=a[0],s=a[1],i=Object(r.useState)(e),c=Object(l.a)(i,2),u=c[0],m=c[1],d=o.length>0?u:e;return n.a.createElement("section",{className:"JobsTable"},n.a.createElement("div",{className:"JobsTable__header"},n.a.createElement("div",{className:"JobsTable__title"},"job list".toUpperCase()),n.a.createElement("div",{className:"JobsTable__search-field"},n.a.createElement("input",{className:"app-standard-input",type:"text",placeholder:"Search job",onChange:function(t){return function(t){var a={};for(var r in e)for(var n in a[r]=[],e[r])e[r][n].includes(t.target.value)&&a[r].push(e[r][n]);s(t.target.value),m(a)}(t)},value:o}))),n.a.createElement("ul",null,d&&Object.keys(d).map((function(e){return d[e].map((function(t,a){return n.a.createElement(J,{key:a+t,job:t,priority:e})}))}))))},y=a(5),S=a.n(y);S.a.setAppElement("#root");var _={overlay:{backgroundColor:"rgba(0, 0, 0, 0.70)"},content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",minWidth:"500px",minHeight:"200px",padding:"10px 20px"}},x=function(){var e=Object(r.useContext)(j).isOpen,t=Object(r.useContext)(j).propsModal,a=Object(r.useState)(null===t||void 0===t?void 0:t.priority),o=Object(l.a)(a,2),s=o[0],c=o[1],u=Object(r.useContext)(j).setStatus,m=Object(r.useContext)(b).editJob;return n.a.createElement(S.a,{style:_,isOpen:e,contentLabel:"Minimal Modal Example"},n.a.createElement("div",{className:"EditJobModal"},n.a.createElement("div",{className:"EditJobModal__close"},n.a.createElement("div",{className:"EditJobModal__close-icon",onClick:function(){u(!1)}},"+")),n.a.createElement("div",{className:"EditJobModal__header"},n.a.createElement("h4",null,t.job)),n.a.createElement("div",{className:"EditJobModal__body"},n.a.createElement(E,{reset:!1,value:t.priority,onSelectPriority:function(e){return function(e){c(e.target.value)}(e)}})),n.a.createElement("div",{className:"EditJobModal__buttons"},n.a.createElement("button",{onClick:function(){!function(){if(s){var e=Object(i.a)({},t,{newPriority:s});m(e)}u(!1)}()}},"Update"))))},C=function(){var e=Object(r.useContext)(b).isJobExist,t=Object(r.useContext)(b).createJob;return n.a.createElement(n.a.Fragment,null,n.a.createElement(h,{onSubmitCreateJob:function(e){t(e)},jobExistErr:e}),n.a.createElement(O,null),n.a.createElement(x,null))},N=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(m,null,n.a.createElement(g,null,n.a.createElement(C,null))))};a(31);s.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(N,null)),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.7f714b9a.chunk.js.map